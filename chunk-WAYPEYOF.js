import{a as Ht,b as Wt}from"./chunk-YGBZ5J2A.js";import{a as Yt,b as jt}from"./chunk-DTJ735H2.js";import"./chunk-HF736BE6.js";import"./chunk-EKRWJKAO.js";import{b as Ft,c as Lt}from"./chunk-RIANM46A.js";import{a as Xt,b as $t}from"./chunk-JCPHAOSO.js";import{b as At,f as Nt}from"./chunk-MAT2C2GM.js";import{a as It,h as Tt,i as Rt}from"./chunk-XWJJCW7V.js";import{a as Mt,c as j}from"./chunk-7PU356LQ.js";import{a as _t,b as pt}from"./chunk-CUDXFYQC.js";import{A as Ot,B as St,C as Dt,D as yt,d as T,e as $,g as R,h as gt,j as Y,k as V,o as ut,p as xt,r as vt,s as ht,y as Pt}from"./chunk-M5VACLKZ.js";import{a as Bt,b as zt}from"./chunk-LBWROMG6.js";import{b as wt,f as kt,i as Vt,r as bt}from"./chunk-7VLTXITI.js";import{c as Et}from"./chunk-WNYBICT2.js";import{a as it,c as ot,f as at,h as rt}from"./chunk-XMUMTGGQ.js";import{a as Ct,b as ft}from"./chunk-AQORW4WI.js";import{d as tt,f as et,fa as ct,g as nt,ha as lt,ia as st,ja as dt,ka as mt}from"./chunk-77V6CQ2B.js";import{$b as W,Bb as N,Cb as B,Db as i,Eb as n,Fb as z,Jb as M,Mb as h,Ob as s,Pc as Z,Rb as X,Va as L,Yb as a,Zb as f,_a as l,_b as I,ac as q,bc as G,cc as U,d as O,dc as J,fc as K,gc as Q,ha as S,lb as P,ma as H,rb as C,s as g,tb as A,ua as u,va as x,yb as d}from"./chunk-5MEO4XP4.js";function b(e,c){let t=+R(e)-+R(c);return t<0?-1:t>0?1:t}function qt(e,c,t){let[r,o]=V(t?.in,e,c),m=r.getFullYear()-o.getFullYear(),p=r.getMonth()-o.getMonth();return m*12+p}function Gt(e,c){let t=R(e,c?.in);return+vt(t,c)==+ht(t,c)}function Ut(e,c,t){let[r,o,m]=V(t?.in,e,e,c),p=b(o,m),_=Math.abs(qt(o,m));if(_<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-p*_);let y=b(o,m)===-p;Gt(r)&&_===1&&b(r,m)===1&&(y=!1);let E=p*(_-+y);return E===0?0:E}function Jt(e,c,t){let r=xt(e,c)/1e3;return ut(t?.roundingMethod)(r)}function Kt(e,c,t){let r=gt(),o=t?.locale??r.locale??Mt,m=2520,p=b(e,c);if(isNaN(p))throw new RangeError("Invalid time value");let _=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:p}),[y,E]=V(t?.in,...p>0?[c,e]:[e,c]),w=Jt(E,y),Zt=(Y(E)-Y(y))/1e3,v=Math.round((w-Zt)/60),k;if(v<2)return t?.includeSeconds?w<5?o.formatDistance("lessThanXSeconds",5,_):w<10?o.formatDistance("lessThanXSeconds",10,_):w<20?o.formatDistance("lessThanXSeconds",20,_):w<40?o.formatDistance("halfAMinute",0,_):w<60?o.formatDistance("lessThanXMinutes",1,_):o.formatDistance("xMinutes",1,_):v===0?o.formatDistance("lessThanXMinutes",1,_):o.formatDistance("xMinutes",v,_);if(v<45)return o.formatDistance("xMinutes",v,_);if(v<90)return o.formatDistance("aboutXHours",1,_);if(v<$){let D=Math.round(v/60);return o.formatDistance("aboutXHours",D,_)}else{if(v<m)return o.formatDistance("xDays",1,_);if(v<T){let D=Math.round(v/$);return o.formatDistance("xDays",D,_)}else if(v<T*2)return k=Math.round(v/T),o.formatDistance("aboutXMonths",k,_)}if(k=Ut(E,y),k<12){let D=Math.round(v/T);return o.formatDistance("xMonths",D,_)}else{let D=k%12,F=Math.trunc(k/12);return D<3?o.formatDistance("aboutXYears",F,_):D<9?o.formatDistance("overXYears",F,_):o.formatDistance("almostXYears",F+1,_)}}var Qt=(e,c)=>c.id,te=(e,c)=>c.name,ee=()=>["/today"];function ne(e,c){e&1&&(i(0,"div",3),z(1,"mat-spinner",5),i(2,"p"),a(3,"Loading visit details..."),n()())}function ie(e,c){if(e&1&&(i(0,"div",9)(1,"mat-icon"),a(2,"login"),n(),i(3,"div")(4,"strong"),a(5,"Checked In:"),n(),i(6,"span"),a(7),n()()()),e&2){let t=s(2);l(7),f(t.formatDateTime(t.visitRecord().checkInAt))}}function oe(e,c){if(e&1&&(i(0,"div",9)(1,"mat-icon"),a(2,"logout"),n(),i(3,"div")(4,"strong"),a(5,"Checked Out:"),n(),i(6,"span"),a(7),n()()()),e&2){let t=s(2);l(7),f(t.formatDateTime(t.visitRecord().checkOutAt))}}function ae(e,c){if(e&1&&(i(0,"div",9)(1,"mat-icon"),a(2,"schedule"),n(),i(3,"div")(4,"strong"),a(5,"Duration:"),n(),i(6,"span"),a(7),n()()()),e&2){let t=s(2);l(7),f(t.formatDuration(t.visitRecord().checkInAt,t.visitRecord().checkOutAt))}}function re(e,c){if(e&1){let t=M();i(0,"button",21),h("click",function(){u(t);let o=s(2);return x(o.checkIn())}),i(1,"mat-icon"),a(2,"login"),n(),a(3," Check In "),n()}}function ce(e,c){if(e&1){let t=M();i(0,"button",22),h("click",function(){u(t);let o=s(2);return x(o.checkOut())}),i(1,"mat-icon"),a(2,"logout"),n(),a(3," Complete Visit "),n()}}function le(e,c){if(e&1){let t=M();i(0,"button",23),h("click",function(){u(t);let o=s(2);return x(o.generateAndCopySummary())}),i(1,"mat-icon"),a(2,"summarize"),n(),a(3," Generate Summary "),n()}}function se(e,c){if(e&1&&(i(0,"div",9)(1,"mat-icon"),a(2,"location_on"),n(),i(3,"div")(4,"strong"),a(5,"Location:"),n(),i(6,"span"),a(7),n()()()),e&2){let t=s(3);l(7),f(t.event().location)}}function de(e,c){if(e&1&&(i(0,"div",24)(1,"mat-icon"),a(2,"description"),n(),i(3,"p"),a(4),n()()),e&2){let t=s(3);l(4),f(t.event().description)}}function me(e,c){if(e&1&&(i(0,"mat-card",14)(1,"mat-card-header")(2,"mat-icon"),a(3,"event"),n(),i(4,"h2"),a(5,"Event Details"),n()(),i(6,"mat-card-content")(7,"h3"),a(8),n(),i(9,"div",9)(10,"mat-icon"),a(11,"schedule"),n(),i(12,"div")(13,"strong"),a(14,"Time:"),n(),i(15,"span"),a(16),n()()(),C(17,se,8,1,"div",9)(18,de,5,1,"div",24),n()()),e&2){let t=s(2);l(8),f(t.event().title),l(8),W("",t.formatTime(t.event().start)," - ",t.formatTime(t.event().end),""),l(),d(17,t.event().location?17:-1),l(),d(18,t.event().description?18:-1)}}function _e(e,c){if(e&1){let t=M();i(0,"button",25),h("click",function(){u(t);let o=s(2);return x(o.linkClient())}),i(1,"mat-icon"),a(2,"link"),n(),a(3," Link Client "),n()}}function pe(e,c){if(e&1){let t=M();i(0,"button",26),h("click",function(){u(t);let o=s(2);return x(o.linkClient())}),i(1,"mat-icon"),a(2,"edit"),n(),a(3," Change Client "),n()}}function Ce(e,c){if(e&1&&(i(0,"div",9)(1,"mat-icon"),a(2,"location_on"),n(),i(3,"span"),a(4),n()()),e&2){let t=s(3);l(4),f(t.client().address)}}function fe(e,c){if(e&1&&(i(0,"div",9)(1,"mat-icon"),a(2,"phone"),n(),i(3,"a",28),a(4),n()()),e&2){let t=s(3);l(3),X("href","tel:",t.client().phone,"",L),l(),f(t.client().phone)}}function ge(e,c){if(e&1&&(i(0,"div",9)(1,"mat-icon"),a(2,"email"),n(),i(3,"a",28),a(4),n()()),e&2){let t=s(3);l(3),X("href","mailto:",t.client().email,"",L),l(),f(t.client().email)}}function ue(e,c){if(e&1&&(i(0,"div",27)(1,"mat-icon"),a(2,"note"),n(),i(3,"p"),a(4),n()()),e&2){let t=s(3);l(4),f(t.client().notes)}}function xe(e,c){if(e&1&&(i(0,"mat-card-content")(1,"h3"),a(2),n(),C(3,Ce,5,1,"div",9)(4,fe,5,3,"div",9)(5,ge,5,3,"div",9)(6,ue,5,1,"div",27),n()),e&2){let t=s(2);l(2),f(t.client().name),l(),d(3,t.client().address?3:-1),l(),d(4,t.client().phone?4:-1),l(),d(5,t.client().email?5:-1),l(),d(6,t.client().notes?6:-1)}}function ve(e,c){e&1&&(i(0,"mat-card-content")(1,"p",29),a(2,"No client linked yet. Link a client to see their information."),n()())}function he(e,c){if(e&1){let t=M();i(0,"button",31),h("click",function(){u(t);let o=s(3);return x(o.isEditingPets.set(!0))}),i(1,"mat-icon"),a(2,"edit"),n()()}}function Me(e,c){if(e&1&&a(0),e&2){let t=s().$implicit;I(" - ",t.breed,"")}}function Pe(e,c){if(e&1){let t=M();i(0,"div",33)(1,"mat-checkbox",37),h("change",function(){let o=u(t).$implicit,m=s(4);return x(m.togglePetSelection(o.id))}),i(2,"span",38)(3,"strong"),a(4),n(),i(5,"span",39),a(6),C(7,Me,1,1),n()()()()}if(e&2){let t=c.$implicit,r=s(4);l(),A("checked",r.isPetSelected(t.id)),l(3),f(t.name),l(2),f(t.species),l(),d(7,t.breed?7:-1)}}function Oe(e,c){e&1&&(i(0,"p",34),a(1,"No pets registered for this client."),n())}function Se(e,c){if(e&1){let t=M();i(0,"p",32),a(1,"Select pets for this visit:"),n(),N(2,Pe,8,4,"div",33,Qt,!1,Oe,2,0,"p",34),i(5,"div",35)(6,"button",36),h("click",function(){u(t);let o=s(3);return x(o.cancelPetEditing())}),a(7,"Cancel"),n(),i(8,"button",22),h("click",function(){u(t);let o=s(3);return x(o.savePetSelection())}),a(9," Save Selection "),n()()}if(e&2){let t=s(3);l(2),B(t.availablePets())}}function De(e,c){if(e&1&&a(0),e&2){let t=s().$implicit;I(" - ",t.breed," ")}}function ye(e,c){if(e&1&&(i(0,"p",42),a(1),n()),e&2){let t=s().$implicit;l(),f(t.careNotes)}}function Ee(e,c){if(e&1&&(i(0,"li"),a(1),n()),e&2){let t=c.$implicit;l(),q("",t.name," - ",t.dosage," (",t.frequency,")")}}function we(e,c){if(e&1&&(i(0,"div",43)(1,"strong"),a(2,"Medications:"),n(),i(3,"ul"),N(4,Ee,2,3,"li",null,te),n()()),e&2){let t=s().$implicit;l(4),B(t.medications)}}function ke(e,c){e&1&&z(0,"mat-divider")}function Ve(e,c){if(e&1&&(i(0,"div",40)(1,"h3"),a(2),n(),i(3,"p",41),a(4),C(5,De,1,1),n(),C(6,ye,2,1,"p",42)(7,we,6,0,"div",43)(8,ke,1,0,"mat-divider"),n()),e&2){let t=c.$implicit,r=s(5);l(2),f(t.name),l(2),I("",t.species," "),l(),d(5,t.breed?5:-1),l(),d(6,t.careNotes?6:-1),l(),d(7,t.medications&&t.medications.length>0?7:-1),l(),d(8,t!==r.pets()[r.pets().length-1]?8:-1)}}function be(e,c){if(e&1&&N(0,Ve,9,6,"div",40,Qt),e&2){let t=s(4);B(t.pets())}}function Ie(e,c){if(e&1){let t=M();i(0,"p",44),a(1,"No pets selected for this visit."),n(),i(2,"button",25),h("click",function(){u(t);let o=s(4);return x(o.isEditingPets.set(!0))}),i(3,"mat-icon"),a(4,"add"),n(),a(5," Select Pets "),n()}}function Te(e,c){e&1&&(i(0,"p",34),a(1,"No pets registered for this client."),n())}function Re(e,c){if(e&1&&C(0,be,2,0)(1,Ie,6,0)(2,Te,2,0),e&2){let t=s(3);d(0,t.pets().length>0?0:t.availablePets().length>0?1:2)}}function Ae(e,c){if(e&1&&(i(0,"mat-card",17)(1,"mat-card-header")(2,"mat-icon"),a(3,"pets"),n(),i(4,"h2"),a(5,"Pets"),n(),C(6,he,3,0,"button",30),n(),i(7,"mat-card-content"),C(8,Se,10,1)(9,Re,3,1),n()()),e&2){let t=s(2);l(6),d(6,!t.isEditingPets()&&t.availablePets().length>0?6:-1),l(2),d(8,t.isEditingPets()?8:9)}}function Ne(e,c){if(e&1){let t=M();i(0,"button",45),h("click",function(){u(t);let o=s(2);return x(o.isEditingNotes.set(!0))}),i(1,"mat-icon"),a(2,"edit"),n()()}}function Be(e,c){if(e&1&&(i(0,"p"),a(1),n()),e&2){let t=s(3);l(),f(t.visitRecord().notes)}}function ze(e,c){e&1&&(i(0,"p",46),a(1,"No notes yet. Click edit to add notes."),n())}function Fe(e,c){if(e&1&&(i(0,"div",20),C(1,Be,2,1,"p")(2,ze,2,0),n()),e&2){let t=s(2);l(),d(1,t.visitRecord().notes?1:2)}}function Le(e,c){if(e&1){let t=M();i(0,"mat-form-field",47)(1,"mat-label"),a(2,"Visit Notes"),n(),i(3,"textarea",48),J("ngModelChange",function(o){u(t);let m=s(2);return U(m.notesText,o)||(m.notesText=o),x(o)}),n()(),i(4,"div",49)(5,"button",22),h("click",function(){u(t);let o=s(2);return x(o.saveNotes())}),i(6,"mat-icon"),a(7,"save"),n(),a(8," Save "),n(),i(9,"button",36),h("click",function(){u(t);let o=s(2);return x(o.cancelEditNotes())}),a(10," Cancel "),n()()}if(e&2){let t=s(2);l(3),G("ngModel",t.notesText)}}function Xe(e,c){if(e&1&&(i(0,"div",4)(1,"mat-card",6)(2,"mat-card-header")(3,"h2"),a(4,"Status"),n(),i(5,"mat-chip",7),a(6),n()(),i(7,"mat-card-content")(8,"div",8)(9,"div",9)(10,"mat-icon"),a(11,"event"),n(),i(12,"div")(13,"strong"),a(14,"Created:"),n(),i(15,"span"),a(16),n()()(),C(17,ie,8,1,"div",9)(18,oe,8,1,"div",9)(19,ae,8,1,"div",9),n(),z(20,"mat-divider"),i(21,"div",10),C(22,re,4,0,"button",11)(23,ce,4,0,"button",12)(24,le,4,0,"button",13),n()()(),C(25,me,19,5,"mat-card",14),i(26,"mat-card",15)(27,"mat-card-header")(28,"mat-icon"),a(29,"person"),n(),i(30,"h2"),a(31,"Client Information"),n(),C(32,_e,4,0,"button",16)(33,pe,4,0),n(),C(34,xe,7,5,"mat-card-content")(35,ve,3,0),n(),C(36,Ae,10,2,"mat-card",17),i(37,"mat-card",18)(38,"mat-card-header")(39,"mat-icon"),a(40,"edit_note"),n(),i(41,"h2"),a(42,"Visit Notes"),n(),C(43,Ne,3,0,"button",19),n(),i(44,"mat-card-content"),C(45,Fe,3,1,"div",20)(46,Le,11,1),n()()()),e&2){let t=s();l(5),A("color",t.getStatusColor(t.visitRecord().status)),l(),I(" ",t.visitRecord().status," "),l(10),f(t.formatDateTime(t.visitRecord().createdAt)),l(),d(17,t.visitRecord().checkInAt?17:-1),l(),d(18,t.visitRecord().checkOutAt?18:-1),l(),d(19,t.visitRecord().checkInAt&&t.visitRecord().checkOutAt?19:-1),l(3),d(22,t.visitRecord().status==="scheduled"?22:-1),l(),d(23,t.visitRecord().status==="in-progress"?23:-1),l(),d(24,t.visitRecord().status==="completed"&&t.client()?24:-1),l(),d(25,t.event()?25:-1),l(7),d(32,t.client()?33:32),l(2),d(34,t.client()?34:35),l(2),d(36,t.client()?36:-1),l(7),d(43,t.isEditingNotes()?-1:43),l(2),d(45,t.isEditingNotes()?46:45)}}var Gn=(()=>{class e{constructor(){this.route=S(tt),this.router=S(et),this.visitRecordService=S(Dt),this.clientService=S(Ot),this.petService=S(St),this.googleCalendarService=S(Pt),this.visitSummaryService=S(yt),this.snackBar=S(Bt),this.dialog=S(Et),this.visitRecord=P(null),this.client=P(null),this.pets=P([]),this.availablePets=P([]),this.selectedPetIds=P(new Set),this.event=P(null),this.isLoading=P(!0),this.isEditingNotes=P(!1),this.isEditingPets=P(!1),this.notesText=P("")}ngOnInit(){return O(this,null,function*(){let t=this.route.snapshot.paramMap.get("id");if(!t){this.router.navigate(["/today"]);return}yield this.loadVisitDetails(t)})}loadVisitDetails(t){return O(this,null,function*(){this.isLoading.set(!0);try{let r=yield g(this.visitRecordService.getById(t));if(!r){this.snackBar.open("Visit not found","Close",{duration:3e3}),this.router.navigate(["/today"]);return}if(this.visitRecord.set(r),this.notesText.set(r.notes||""),this.selectedPetIds.set(new Set(r.petIds||[])),r.clientId){let o=yield g(this.clientService.getById(r.clientId));if(this.client.set(o),o){let m=yield g(this.petService.getByClientId(o.id));this.availablePets.set(m)}}if(r.petIds&&r.petIds.length>0){let o=r.petIds.map(p=>g(this.petService.getById(p))),m=yield Promise.all(o);this.pets.set(m.filter(p=>p!==null))}if(r.eventId&&r.calendarId)try{let o=yield g(this.googleCalendarService.getEventById(r.calendarId,r.eventId));o&&this.event.set(o)}catch(o){console.warn("Could not load calendar event:",o)}}catch(r){console.error("Error loading visit details:",r),this.snackBar.open("Error loading visit details","Close",{duration:3e3})}finally{this.isLoading.set(!1)}})}checkIn(){return O(this,null,function*(){let t=this.visitRecord();if(t)try{yield g(this.visitRecordService.checkIn({id:t.id,checkInAt:new Date})),yield this.loadVisitDetails(t.id),this.snackBar.open("Checked in successfully","Close",{duration:2e3})}catch(r){console.error("Error checking in:",r),this.snackBar.open("Error checking in","Close",{duration:3e3})}})}checkOut(){return O(this,null,function*(){let t=this.visitRecord();if(t)try{yield g(this.visitRecordService.checkOut({id:t.id,checkOutAt:new Date,notes:this.notesText()})),yield this.loadVisitDetails(t.id),this.snackBar.open("Visit completed successfully","Close",{duration:2e3})}catch(r){console.error("Error checking out:",r),this.snackBar.open("Error completing visit","Close",{duration:3e3})}})}saveNotes(){return O(this,null,function*(){let t=this.visitRecord();if(t)try{yield g(this.visitRecordService.update({id:t.id,notes:this.notesText()})),yield this.loadVisitDetails(t.id),this.isEditingNotes.set(!1),this.snackBar.open("Notes saved","Close",{duration:2e3})}catch(r){console.error("Error saving notes:",r),this.snackBar.open("Error saving notes","Close",{duration:3e3})}})}cancelEditNotes(){let t=this.visitRecord();this.notesText.set(t?.notes||""),this.isEditingNotes.set(!1)}getStatusColor(t){switch(t){case"scheduled":return"primary";case"in-progress":return"accent";case"completed":return"warn";default:return""}}formatDateTime(t){return t?j(new Date(t),"MMM d, yyyy h:mm a"):"N/A"}formatTime(t){return t?j(new Date(t),"h:mm a"):"N/A"}formatDuration(t,r){return!t||!r?"N/A":Kt(new Date(t),new Date(r))}generateAndCopySummary(){return O(this,null,function*(){let t=this.visitRecord(),r=this.client(),o=this.pets();if(!t||!r){this.snackBar.open("Missing required data for summary","Close",{duration:3e3});return}try{let m=this.event();m||(m={id:t.eventId,calendarId:t.calendarId,title:r.name,start:t.createdAt,end:t.checkOutAt||t.createdAt,location:r.address,allDay:!1,status:"confirmed"});let p=this.visitSummaryService.generateSummary(m,t,r,o);yield navigator.clipboard.writeText(p),yield g(this.visitRecordService.update({id:t.id,lastSummarySentAt:new Date})),yield this.loadVisitDetails(t.id),this.snackBar.open("Summary copied to clipboard!","Close",{duration:3e3})}catch(m){console.error("Error generating summary:",m),this.snackBar.open("Error generating summary","Close",{duration:3e3})}})}linkClient(){return O(this,null,function*(){let t=this.visitRecord(),r=this.event();if(!t)return;let o=r&&jt(r)||"";try{let m=yield g(this.clientService.getAll()),p=yield this.showLinkClientDialog(m,o,t.clientId);if(p.action==="select"&&p.clientId)yield g(this.visitRecordService.linkClient(t.eventId,t.calendarId,p.clientId)),this.snackBar.open("Client linked successfully","Close",{duration:2e3}),yield this.loadVisitDetails(t.id);else if(p.action==="create"&&p.newClient){let _=yield g(this.clientService.create(p.newClient));yield g(this.visitRecordService.linkClient(t.eventId,t.calendarId,_.id)),this.snackBar.open(`Created and linked client: ${_.name}`,"Close",{duration:2e3}),yield this.loadVisitDetails(t.id)}}catch(m){console.error("Error linking client:",m),this.snackBar.open("Error linking client","Close",{duration:3e3})}})}showLinkClientDialog(t,r,o){return O(this,null,function*(){let m=this.dialog.open(Yt,{width:"500px",data:{clients:t,candidateName:r,currentClientId:o}});return g(m.afterClosed())})}togglePetSelection(t){let r=new Set(this.selectedPetIds());r.has(t)?r.delete(t):r.add(t),this.selectedPetIds.set(r)}isPetSelected(t){return this.selectedPetIds().has(t)}savePetSelection(){return O(this,null,function*(){let t=this.visitRecord();if(t)try{let r=Array.from(this.selectedPetIds());yield g(this.visitRecordService.update({id:t.id,petIds:r})),yield this.loadVisitDetails(t.id),this.isEditingPets.set(!1),this.snackBar.open("Pets updated","Close",{duration:2e3})}catch(r){console.error("Error saving pet selection:",r),this.snackBar.open("Error saving pets","Close",{duration:3e3})}})}cancelPetEditing(){let t=this.visitRecord();this.selectedPetIds.set(new Set(t?.petIds||[])),this.isEditingPets.set(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=H({type:e,selectors:[["app-visit-detail"]],standalone:!0,features:[K],decls:9,vars:4,consts:[[1,"visit-detail-container"],[1,"visit-header"],["mat-icon-button","",3,"routerLink"],[1,"loading-container"],[1,"visit-content"],["diameter","40"],[1,"status-card"],["highlighted","",3,"color"],[1,"status-info"],[1,"info-row"],[1,"status-actions"],["mat-raised-button","","color","accent"],["mat-raised-button","","color","primary"],["mat-raised-button",""],[1,"event-card"],[1,"client-card"],["mat-stroked-button","","color","primary"],[1,"pets-card"],[1,"notes-card"],["mat-icon-button",""],[1,"notes-display"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",3,"click"],[1,"event-description"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","",3,"click"],[1,"client-notes"],[3,"href"],[1,"empty-state"],["mat-icon-button","","matTooltip","Edit pet selection"],["mat-icon-button","","matTooltip","Edit pet selection",3,"click"],[1,"section-hint"],[1,"pet-checkbox-item"],[1,"no-pets"],[1,"edit-actions"],["mat-button","",3,"click"],[3,"change","checked"],[1,"pet-checkbox-label"],[1,"pet-type-inline"],[1,"pet-item"],[1,"pet-type"],[1,"pet-notes"],[1,"medications"],[1,"no-pets-selected"],["mat-icon-button","",3,"click"],[1,"no-notes"],["appearance","outline",1,"full-width"],["matInput","","rows","6","placeholder","Add notes about the visit...",3,"ngModelChange","ngModel"],[1,"notes-actions"]],template:function(r,o){r&1&&(i(0,"div",0)(1,"div",1)(2,"button",2)(3,"mat-icon"),a(4,"arrow_back"),n()(),i(5,"h1"),a(6,"Visit Details"),n()(),C(7,ne,4,0,"div",3)(8,Xe,47,15,"div",4),n()),r&2&&(l(2),A("routerLink",Q(3,ee)),l(5),d(7,o.isLoading()?7:-1),l(),d(8,!o.isLoading()&&o.visitRecord()?8:-1))},dependencies:[Z,bt,wt,kt,Vt,nt,rt,it,ot,at,st,ct,lt,mt,dt,Rt,Tt,It,Lt,Ft,Nt,At,$t,Xt,pt,_t,Wt,Ht,zt,ft,Ct],styles:[".visit-detail-container[_ngcontent-%COMP%]{padding:1.5rem;max-width:1200px;margin:0 auto}.visit-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:2rem}.visit-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:2rem;font-weight:500}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem;gap:1rem}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0}.visit-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:1rem 1.5rem;background-color:var(--surface-variant);border-bottom:1px solid var(--border-color)}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--primary-color)}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{flex:1;margin:0;font-size:1.25rem;font-weight:500}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1.5rem}.status-card[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem}.status-card[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem}.status-card[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{flex-shrink:0;color:var(--primary-color)}.status-card[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.status-card[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:500;color:var(--text-secondary);font-size:.875rem}.status-card[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-primary)}.status-card[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{margin:1.5rem 0}.status-card[_ngcontent-%COMP%]   .status-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.event-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.5rem;font-weight:500}.event-card[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;margin:.75rem 0}.event-card[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{flex-shrink:0;color:var(--primary-color)}.event-card[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.event-card[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:500;color:var(--text-secondary);font-size:.875rem}.event-card[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-primary)}.event-card[_ngcontent-%COMP%]   .event-description[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background-color:var(--surface-variant);border-radius:8px;display:flex;gap:.75rem}.event-card[_ngcontent-%COMP%]   .event-description[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{flex-shrink:0;color:var(--primary-color)}.event-card[_ngcontent-%COMP%]   .event-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-primary);line-height:1.6;white-space:pre-wrap}.client-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.5rem;font-weight:500}.client-card[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin:.75rem 0}.client-card[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{flex-shrink:0;color:var(--primary-color);font-size:1.25rem;width:1.25rem;height:1.25rem}.client-card[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .client-card[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-primary);text-decoration:none}.client-card[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover, .client-card[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.client-card[_ngcontent-%COMP%]   .client-notes[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background-color:var(--surface-variant);border-radius:8px;display:flex;gap:.75rem}.client-card[_ngcontent-%COMP%]   .client-notes[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{flex-shrink:0;color:var(--primary-color)}.client-card[_ngcontent-%COMP%]   .client-notes[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-primary);line-height:1.6}.pets-card[_ngcontent-%COMP%]   .section-hint[_ngcontent-%COMP%]{margin:0 0 1rem;color:var(--text-secondary);font-size:.9rem}.pets-card[_ngcontent-%COMP%]   .pet-checkbox-item[_ngcontent-%COMP%]{margin:.5rem 0}.pets-card[_ngcontent-%COMP%]   .pet-checkbox-item[_ngcontent-%COMP%]   .pet-checkbox-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.pets-card[_ngcontent-%COMP%]   .pet-checkbox-item[_ngcontent-%COMP%]   .pet-checkbox-label[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}.pets-card[_ngcontent-%COMP%]   .pet-checkbox-item[_ngcontent-%COMP%]   .pet-checkbox-label[_ngcontent-%COMP%]   .pet-type-inline[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary)}.pets-card[_ngcontent-%COMP%]   .no-pets[_ngcontent-%COMP%], .pets-card[_ngcontent-%COMP%]   .no-pets-selected[_ngcontent-%COMP%]{color:var(--text-secondary);font-style:italic;margin:0 0 1rem}.pets-card[_ngcontent-%COMP%]   .edit-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1.5rem;justify-content:flex-end}.pets-card[_ngcontent-%COMP%]   .pet-item[_ngcontent-%COMP%]{padding:1rem 0}.pets-card[_ngcontent-%COMP%]   .pet-item[_ngcontent-%COMP%]:first-child{padding-top:0}.pets-card[_ngcontent-%COMP%]   .pet-item[_ngcontent-%COMP%]:last-child{padding-bottom:0}.pets-card[_ngcontent-%COMP%]   .pet-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:500}.pets-card[_ngcontent-%COMP%]   .pet-item[_ngcontent-%COMP%]   .pet-type[_ngcontent-%COMP%]{margin:0 0 .75rem;color:var(--text-secondary);font-size:.9rem}.pets-card[_ngcontent-%COMP%]   .pet-item[_ngcontent-%COMP%]   .pet-notes[_ngcontent-%COMP%]{margin:.75rem 0;padding:.75rem;background-color:var(--surface-variant);border-radius:6px;font-size:.9rem;line-height:1.5}.pets-card[_ngcontent-%COMP%]   .pet-item[_ngcontent-%COMP%]   .medications[_ngcontent-%COMP%]{margin-top:.75rem}.pets-card[_ngcontent-%COMP%]   .pet-item[_ngcontent-%COMP%]   .medications[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:var(--text-secondary);font-size:.9rem}.pets-card[_ngcontent-%COMP%]   .pet-item[_ngcontent-%COMP%]   .medications[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.5rem}.pets-card[_ngcontent-%COMP%]   .pet-item[_ngcontent-%COMP%]   .medications[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.25rem 0;font-size:.9rem;line-height:1.5}.pets-card[_ngcontent-%COMP%]   .pet-item[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{margin-top:1rem}.notes-card[_ngcontent-%COMP%]   .notes-display[_ngcontent-%COMP%]{min-height:100px}.notes-card[_ngcontent-%COMP%]   .notes-display[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:1.6;white-space:pre-wrap}.notes-card[_ngcontent-%COMP%]   .notes-display[_ngcontent-%COMP%]   p.no-notes[_ngcontent-%COMP%]{color:var(--text-secondary);font-style:italic}.notes-card[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.notes-card[_ngcontent-%COMP%]   .notes-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}@media (max-width: 768px){.visit-detail-container[_ngcontent-%COMP%]{padding:1rem}.visit-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.status-actions[_ngcontent-%COMP%]{flex-direction:column}.status-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})}}return e})();export{Gn as VisitDetailComponent};
