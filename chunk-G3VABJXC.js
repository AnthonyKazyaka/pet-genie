import{a as Bt}from"./chunk-Q3GJIKFR.js";import{b as _t}from"./chunk-3TEPHMV2.js";import{a as Tt,b as Dt,c as It}from"./chunk-BVWS4ARI.js";import{c as R}from"./chunk-7PU356LQ.js";import{b as dt}from"./chunk-CUDXFYQC.js";import{b as ht,g as xt,i as vt,n as ft,s as P,t as F,u as S,v as Ct,w as yt,x as Mt,y as bt}from"./chunk-M5VACLKZ.js";import{a as St,b as Et}from"./chunk-LBWROMG6.js";import{b as kt}from"./chunk-PTLTVG7R.js";import{f as Ot,i as wt,r as Pt}from"./chunk-7VLTXITI.js";import"./chunk-WNYBICT2.js";import{a as tt,b as et,c as nt,d as at,f as it,h as ot}from"./chunk-XMUMTGGQ.js";import{a as mt,b as gt}from"./chunk-AQORW4WI.js";import{Ma as pt,Na as ut,f as Z,fa as rt,ia as st,ja as ct,ka as lt}from"./chunk-77V6CQ2B.js";import{Ab as G,Bb as _,Cb as y,Db as e,Eb as n,Fb as g,Mb as z,Ob as x,Oc as Q,Pc as X,Yb as o,Zb as u,_a as c,_b as k,bc as j,cc as V,d as E,dc as q,fc as Y,gc as K,ha as f,jc as U,kc as J,lb as D,ma as H,rb as O,s as $,sb as I,tb as B,ub as b,vb as W,wa as T,wb as A,xa as N,xc as v,yb as w}from"./chunk-5MEO4XP4.js";function L(r,l){return xt(r,l?.in).getDay()}var zt=(r,l)=>l.date.toISOString(),Wt=(r,l)=>l.type,Ft=(r,l)=>l.day,Rt=(r,l)=>l.name,Lt=()=>[1,2,3,4];function $t(r,l){r&1&&g(0,"app-empty-state",10)}function Ht(r,l){r&1&&(e(0,"mat-card",12)(1,"mat-card-content"),g(2,"div",16),e(3,"div",17),g(4,"div",18)(5,"div",19),n()()())}function Nt(r,l){r&1&&(e(0,"section",11),_(1,Ht,6,0,"mat-card",12,G),n(),e(3,"mat-card",13)(4,"mat-card-header"),g(5,"div",14),n(),e(6,"mat-card-content"),g(7,"div",15),n()()),r&2&&(c(),y(K(0,Lt)))}function Gt(r,l){r&1&&g(0,"app-empty-state",20)}function jt(r,l){if(r&1&&(e(0,"div",29),g(1,"div",49),e(2,"span",50),o(3),n()()),r&2){let t=l.$implicit,a=x(2);B("matTooltip",a.getBarTooltip(t)),I("aria-label",a.getBarTooltip(t)),c(),A("workload-"+t.level),b("height",a.getBarHeight(t.workMinutes),"%"),c(2),u(t.label)}}function Vt(r,l){if(r&1&&(T(),g(0,"circle",40)),r&2){let t=l.$implicit,a=l.$index,i=x(2);I("stroke",t.color)("stroke-dasharray",i.getStrokeDasharray(t.percentage))("stroke-dashoffset",i.getStrokeDashoffset(a))}}function qt(r,l){if(r&1&&(e(0,"div",45),g(1,"span",51),e(2,"span",52),o(3),n(),e(4,"span",53),o(5),U(6,"number"),n(),e(7,"span",54),o(8),n()()),r&2){let t=l.$implicit;c(),b("background",t.color),c(2),u(t.type),c(2),k("",J(6,5,t.percentage,"1.0-0"),"%"),c(3),u(t.count)}}function Yt(r,l){if(r&1&&(e(0,"div",47)(1,"span",55),o(2),n(),e(3,"div",56),g(4,"div",57),n(),e(5,"span",58),o(6),n()()),r&2){let t=l.$implicit,a=x(2);c(2),u(t.day),c(2),b("width",a.getDayBarWidth(t.averageMinutes),"%"),W("highlight",t.averageMinutes===a.maxDayMinutes()),c(2),u(a.formatMinutes(t.averageMinutes))}}function Kt(r,l){r&1&&(e(0,"div",48)(1,"mat-icon"),o(2,"person_off"),n(),e(3,"p"),o(4,"No client data available. Client names are extracted from event titles."),n()())}function Ut(r,l){if(r&1&&(e(0,"mat-icon"),o(1),n()),r&2){let t=x().$index;c(),u(t===0?"emoji_events":"star")}}function Jt(r,l){if(r&1&&o(0),r&2){let t=x().$index;k(" ",t+1," ")}}function Qt(r,l){if(r&1&&(e(0,"div",61)(1,"div",62),O(2,Ut,2,1,"mat-icon")(3,Jt,1,1),n(),e(4,"div",63)(5,"span",64),o(6),n(),e(7,"span",65)(8,"span",66)(9,"mat-icon"),o(10,"event"),n(),o(11),n(),e(12,"span",66)(13,"mat-icon"),o(14,"schedule"),n(),o(15),n()()(),e(16,"div",67),g(17,"div",68),n()()),r&2){let t=l.$implicit,a=l.$index,i=x(3);W("top-3",a<3),c(),A("rank-"+(a+1)),c(),w(2,a<3?2:3),c(4),u(t.name),c(5),k(" ",t.visitCount," visits "),c(4),k(" ",i.formatMinutes(t.totalMinutes)," "),c(2),b("width",i.getClientBarWidth(t.visitCount),"%")}}function Xt(r,l){if(r&1&&(e(0,"div",59),_(1,Qt,18,10,"div",60,Rt),n()),r&2){let t=x(2);c(),y(t.topClients())}}function Zt(r,l){if(r&1&&(e(0,"section",11)(1,"mat-card",21)(2,"mat-card-content")(3,"div",22)(4,"mat-icon"),o(5,"event"),n()(),e(6,"div",17)(7,"span",23),o(8),n(),e(9,"span",24),o(10,"Total Appointments"),n()()()(),e(11,"mat-card",21)(12,"mat-card-content")(13,"div",25)(14,"mat-icon"),o(15,"schedule"),n()(),e(16,"div",17)(17,"span",23),o(18),n(),e(19,"span",24),o(20,"Work Hours"),n()()()(),e(21,"mat-card",21)(22,"mat-card-content")(23,"div",26)(24,"mat-icon"),o(25,"pets"),n()(),e(26,"div",17)(27,"span",23),o(28),n(),e(29,"span",24),o(30,"Unique Clients"),n()()()(),e(31,"mat-card",21)(32,"mat-card-content")(33,"div",27)(34,"mat-icon"),o(35,"trending_up"),n()(),e(36,"div",17)(37,"span",23),o(38),n(),e(39,"span",24),o(40,"Avg Hours/Day"),n()()()()(),e(41,"mat-card",13)(42,"mat-card-header")(43,"mat-card-title"),o(44,"Workload Trend"),n(),e(45,"mat-card-subtitle"),o(46,"Daily work hours over time"),n()(),e(47,"mat-card-content")(48,"div",28),_(49,jt,4,7,"div",29,zt),n(),e(51,"div",30)(52,"div",31),g(53,"span",32),o(54," Comfortable "),n(),e(55,"div",31),g(56,"span",33),o(57," Busy "),n(),e(58,"div",31),g(59,"span",34),o(60," High "),n(),e(61,"div",31),g(62,"span",35),o(63," Burnout "),n()()()(),e(64,"div",36)(65,"mat-card",13)(66,"mat-card-header")(67,"mat-card-title"),o(68,"Service Breakdown"),n(),e(69,"mat-card-subtitle"),o(70,"Types of appointments"),n()(),e(71,"mat-card-content")(72,"div",37)(73,"div",38),T(),e(74,"svg",39),_(75,Vt,1,3,":svg:circle",40,Wt),n(),N(),e(77,"div",41)(78,"span",42),o(79),n(),e(80,"span",43),o(81,"visits"),n()()(),e(82,"div",44),_(83,qt,9,8,"div",45,Wt),n()()()(),e(85,"mat-card",13)(86,"mat-card-header")(87,"mat-card-title"),o(88,"Busiest Days"),n(),e(89,"mat-card-subtitle"),o(90,"Average hours by day of week"),n()(),e(91,"mat-card-content")(92,"div",46),_(93,Yt,7,6,"div",47,Ft),n()()()(),e(95,"mat-card",13)(96,"mat-card-header")(97,"mat-card-title"),o(98,"Top Clients"),n(),e(99,"mat-card-subtitle"),o(100,"Most frequent appointments"),n()(),e(101,"mat-card-content"),O(102,Kt,5,0,"div",48)(103,Xt,3,0),n()()),r&2){let t=x();c(8),u(t.summaryStats().totalEvents),c(10),u(t.summaryStats().totalHours),c(10),u(t.summaryStats().uniqueClients),c(10),u(t.summaryStats().avgPerDay),c(11),y(t.dailyStats()),c(26),y(t.serviceBreakdown()),c(4),u(t.summaryStats().totalEvents),c(4),y(t.serviceBreakdown()),c(10),y(t.dayOfWeekStats()),c(9),w(102,t.topClients().length===0?102:103)}}var Te=(()=>{class r{constructor(){this.dataService=f(ht),this.googleCalendarService=f(bt),this.workloadService=f(Mt),this.eventProcessor=f(yt),this.snackBar=f(St),this.router=f(Z),this.exportContext=f(Bt),this.timeRange="month",this.isLoading=D(!1),this.events=D([]),this.isConnected=v(()=>this.googleCalendarService.isSignedIn()),this.maxDayMinutes=v(()=>{let t=this.dayOfWeekStats();return Math.max(...t.map(a=>a.averageMinutes))}),this.hasWorkEvents=v(()=>this.events().some(t=>t.isWorkEvent)),this.summaryStats=v(()=>{let t=this.events().filter(h=>h.isWorkEvent),a=t.reduce((h,C)=>{let M=(C.end.getTime()-C.start.getTime())/6e4;return h+Math.min(M,12*60)},0),i=Math.round(a/60),d=new Set(t.map(h=>h.clientName).filter(Boolean)).size,m=this.getDateRange(),s=Math.ceil((m.end.getTime()-m.start.getTime())/(1e3*60*60*24)),p=s>0?(a/s/60).toFixed(1):"0";return{totalEvents:t.length,totalHours:`${i}h`,uniqueClients:d,avgPerDay:`${p}h`}}),this.dailyStats=v(()=>{let t=this.getDateRange(),a=F({start:t.start,end:t.end}),i=this.events(),d=this.dataService.settings().thresholds;return a.slice(-31).map(s=>{let p=i.filter(M=>ft(M.start,s)&&M.isWorkEvent),h=p.reduce((M,At)=>M+this.eventProcessor.calculateEventDurationForDay(At,s),0),C=ut(h/60,"daily",d);return{date:s,label:R(s,"d"),workMinutes:h,eventCount:p.length,level:C}})}),this.serviceBreakdown=v(()=>{let t=this.events().filter(m=>m.isWorkEvent),a=new Map,i={"drop-in":"#3B82F6",walk:"#10B981",overnight:"#8B5CF6",housesit:"#EC4899","meet-greet":"#F59E0B","nail-trim":"#6366F1",other:"#6B7280"};t.forEach(m=>{let s=m.serviceInfo?.type||"other",p=this.getServiceLabel(s),h=(m.end.getTime()-m.start.getTime())/(1e3*60);a.has(p)||a.set(p,{count:0,minutes:0});let C=a.get(p);C.count++,C.minutes+=h});let d=t.length||1;return Array.from(a.entries()).map(([m,s])=>({type:m,count:s.count,minutes:s.minutes,percentage:s.count/d*100,color:i[m.toLowerCase().replace(/\s+/g,"-")]||i.other})).sort((m,s)=>s.count-m.count)}),this.dayOfWeekStats=v(()=>{let t=this.events().filter(s=>s.isWorkEvent),i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((s,p)=>({day:s,dayIndex:p,totalMinutes:0,totalEvents:0,dayCount:0})),d=this.getDateRange();return F({start:d.start,end:d.end}).forEach(s=>{let p=L(s);i[p].dayCount++}),t.forEach(s=>{let p=L(s.start),h=(s.end.getTime()-s.start.getTime())/(1e3*60);i[p].totalMinutes+=Math.min(h,12*60),i[p].totalEvents++}),i.map(s=>({day:s.day,dayIndex:s.dayIndex,averageMinutes:s.dayCount>0?s.totalMinutes/s.dayCount:0,averageEvents:s.dayCount>0?s.totalEvents/s.dayCount:0}))}),this.topClients=v(()=>{let t=this.events().filter(i=>i.isWorkEvent&&i.clientName),a=new Map;return t.forEach(i=>{let d=i.clientName,m=(i.end.getTime()-i.start.getTime())/(1e3*60);a.has(d)||a.set(d,{visitCount:0,totalMinutes:0});let s=a.get(d);s.visitCount++,s.totalMinutes+=Math.min(m,12*60)}),Array.from(a.entries()).map(([i,d])=>({name:i,visitCount:d.visitCount,totalMinutes:d.totalMinutes})).sort((i,d)=>d.visitCount-i.visitCount).slice(0,10)})}ngOnInit(){return E(this,null,function*(){this.googleCalendarService.isSignedIn()&&(yield this.loadEvents())})}openExportDialog(){let t=this.getDateRange();this.exportContext.setContext({events:this.events(),defaultOptions:{startDate:t.start,endDate:t.end,includeTime:!0,includeLocation:!0,workEventsOnly:!0},source:"analytics"}),this.router.navigate(["/export"])}loadEvents(){return E(this,null,function*(){try{if(this.isLoading.set(!0),!this.googleCalendarService.isInitialized()){let m=this.dataService.settings();if(m.googleClientId)yield this.googleCalendarService.initialize(m.googleClientId);else{console.warn("Cannot load events: Google Client ID not configured");return}}let t=this.dataService.settings(),a=this.getDateRange(),i=yield $(this.googleCalendarService.fetchEventsFromCalendars(t.selectedCalendars,a)),d=this.eventProcessor.processEvents(i??[]);this.events.set(d)}catch(t){console.error("Failed to load events:",t)}finally{this.isLoading.set(!1)}})}onTimeRangeChange(){this.loadEvents()}getDateRange(){let t=new Date;switch(this.timeRange){case"week":return{start:vt(t),end:Ct(t)};case"month":return{start:S(t),end:P(t)};case"3months":return{start:_t(S(t),2),end:P(t)};default:return{start:S(t),end:P(t)}}}getBarHeight(t){let a=Math.max(...this.dailyStats().map(i=>i.workMinutes),60);return t/a*100}getBarTooltip(t){let a=Math.round(t.workMinutes/60*10)/10;return`${R(t.date,"MMM d")}: ${a}h (${t.eventCount} visits)`}getWorkloadColor(t){return pt[t]}getSegmentOffset(t){let a=this.serviceBreakdown(),i=0;for(let d=0;d<t;d++)i+=a[d].percentage;return i}getDayBarWidth(t){let a=Math.max(...this.dayOfWeekStats().map(i=>i.averageMinutes),60);return t/a*100}getStrokeDasharray(t){let a=2*Math.PI*40,i=t/100*a;return`${i} ${a-i}`}getStrokeDashoffset(t){let a=2*Math.PI*40;return-(this.getSegmentOffset(t)/100*a)}getClientBarWidth(t){let a=Math.max(...this.topClients().map(i=>i.visitCount),1);return t/a*100}formatMinutes(t){return`${Math.round(t/60*10)/10}h`}getServiceLabel(t){return{"drop-in":"Drop-In",walk:"Walk",overnight:"Overnight",housesit:"Housesit","meet-greet":"Meet & Greet","nail-trim":"Nail Trim",other:"Other"}[t]||"Other"}static{this.\u0275fac=function(a){return new(a||r)}}static{this.\u0275cmp=H({type:r,selectors:[["app-analytics"]],standalone:!0,features:[Y],decls:23,vars:3,consts:[[1,"analytics-container"],[1,"page-header"],[1,"header-content"],[1,"subtitle"],[1,"header-actions"],[3,"ngModelChange","change","ngModel"],["value","week"],["value","month"],["value","3months"],["mat-stroked-button","",3,"click","disabled"],["icon","cloud_off","title","Connect Google Calendar","description","Connect your Google Calendar to view analytics about your pet sitting business.","actionLabel","Go to Settings","actionLink","/settings","actionIcon","settings"],[1,"summary-cards"],[1,"summary-card","skeleton"],[1,"chart-card"],[1,"skeleton-text","medium"],[1,"skeleton-chart"],[1,"summary-icon","skeleton-icon"],[1,"summary-info"],[1,"skeleton-text","large"],[1,"skeleton-text","small"],["icon","bar_chart","title","No data yet","description","Once you have pet sitting appointments in your calendar, you'll see analytics here.","actionLabel","View Calendar","actionLink","/calendar","actionIcon","event"],[1,"summary-card"],[1,"summary-icon","appointments"],[1,"summary-value"],[1,"summary-label"],[1,"summary-icon","hours"],[1,"summary-icon","clients"],[1,"summary-icon","average"],["role","img","aria-label","Bar chart showing daily workload",1,"bar-chart"],["role","listitem",1,"bar-container",3,"matTooltip"],[1,"chart-legend"],[1,"legend-item"],[1,"legend-color","workload-comfortable"],[1,"legend-color","workload-busy"],[1,"legend-color","workload-high"],[1,"legend-color","workload-burnout"],[1,"charts-row"],[1,"donut-chart-container"],["role","img","aria-label","Donut chart showing service breakdown",1,"donut-chart"],["viewBox","0 0 100 100",1,"donut-svg"],["fill","transparent","stroke-width","10","cx","50","cy","50","r","40",1,"donut-segment-circle"],[1,"donut-center"],[1,"donut-total"],[1,"donut-label"],[1,"service-legend"],[1,"service-item"],[1,"day-chart"],[1,"day-bar-container"],[1,"empty-clients"],[1,"bar"],[1,"bar-label"],[1,"service-color"],[1,"service-name"],[1,"service-percentage"],[1,"service-count"],[1,"day-name"],[1,"day-bar-wrapper"],[1,"day-bar"],[1,"day-hours"],[1,"clients-grid"],[1,"client-card",3,"top-3"],[1,"client-card"],[1,"client-rank"],[1,"client-info"],[1,"client-name"],[1,"client-stats"],[1,"stat"],[1,"client-progress"],[1,"progress-bar"]],template:function(a,i){a&1&&(e(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1"),o(4,"Analytics"),n(),e(5,"p",3),o(6,"Insights into your pet sitting business"),n()(),e(7,"div",4)(8,"mat-button-toggle-group",5),q("ngModelChange",function(m){return V(i.timeRange,m)||(i.timeRange=m),m}),z("change",function(){return i.onTimeRangeChange()}),e(9,"mat-button-toggle",6),o(10,"This Week"),n(),e(11,"mat-button-toggle",7),o(12,"This Month"),n(),e(13,"mat-button-toggle",8),o(14,"3 Months"),n()(),e(15,"button",9),z("click",function(){return i.openExportDialog()}),e(16,"mat-icon"),o(17,"download"),n(),o(18," Export "),n()()(),O(19,$t,1,0,"app-empty-state",10)(20,Nt,8,1)(21,Gt,1,0)(22,Zt,104,6),n()),a&2&&(c(8),j("ngModel",i.timeRange),c(7),B("disabled",i.isLoading()||i.events().length===0),c(4),w(19,i.isConnected()?i.isLoading()?20:i.hasWorkEvents()===!1?21:22:19))},dependencies:[X,Q,Pt,Ot,wt,ot,tt,nt,it,at,et,st,rt,lt,ct,It,Tt,Dt,dt,gt,mt,Et,kt],styles:["@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slide-up{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.analytics-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:24px;flex-wrap:wrap;gap:16px}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:600}.subtitle[_ngcontent-%COMP%]{margin:4px 0 0;color:var(--on-surface-variant)}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;flex-wrap:wrap}mat-button-toggle-group[_ngcontent-%COMP%]{border:1px solid var(--outline-variant);border-radius:8px;overflow:hidden;background:var(--surface-container-low);box-shadow:var(--shadow-sm)}mat-button-toggle[_ngcontent-%COMP%]{border:none;font-weight:500;letter-spacing:.02em}mat-button-toggle.mat-button-toggle-checked[_ngcontent-%COMP%]{background:var(--primary-container);color:var(--on-primary-container)}mat-button-toggle[_ngcontent-%COMP%]:not(.mat-button-toggle-checked){background:transparent;color:var(--on-surface-variant)}mat-button-toggle[_ngcontent-%COMP%]:hover:not(.mat-button-toggle-checked){background:var(--surface-container)}[data-theme=dark][_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{background:var(--surface-container);border-color:var(--outline)}[data-theme=dark][_ngcontent-%COMP%]   mat-button-toggle.mat-button-toggle-checked[_ngcontent-%COMP%]{background:var(--primary);color:var(--on-primary)}.summary-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-bottom:24px}.summary-card[_ngcontent-%COMP%]{border-radius:16px;border:1px solid var(--outline-variant);transition:all var(--transition-normal) ease}.summary-card[_ngcontent-%COMP%]:hover{box-shadow:var(--shadow-md);transform:translateY(-2px)}.summary-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:24px}.summary-icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:16px;display:flex;align-items:center;justify-content:center}.summary-icon.appointments[_ngcontent-%COMP%]{background:var(--primary-container)}.summary-icon.hours[_ngcontent-%COMP%]{background:var(--tertiary-container)}.summary-icon.clients[_ngcontent-%COMP%]{background:var(--secondary-container)}.summary-icon.average[_ngcontent-%COMP%]{background:var(--workload-busy)}.summary-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--on-surface);font-size:28px;width:28px;height:28px}.summary-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.summary-value[_ngcontent-%COMP%]{font-size:32px;font-weight:700;line-height:1}.summary-label[_ngcontent-%COMP%]{font-size:14px;color:var(--on-surface-variant);margin-top:4px}.summary-card.skeleton[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}.skeleton-icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:16px;background:var(--surface-container-high)}.skeleton-text[_ngcontent-%COMP%]{background:var(--surface-container-high);border-radius:4px}.skeleton-text.large[_ngcontent-%COMP%]{width:80px;height:32px}.skeleton-text.medium[_ngcontent-%COMP%]{width:120px;height:20px}.skeleton-text.small[_ngcontent-%COMP%]{width:100px;height:14px;margin-top:4px}.skeleton-chart[_ngcontent-%COMP%]{height:200px;background:var(--surface-container-high);border-radius:8px}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.chart-card[_ngcontent-%COMP%]{margin-bottom:24px;border-radius:16px;border:1px solid var(--outline-variant)}.chart-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:20px 20px 0}.chart-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:20px}.charts-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:24px}.bar-chart[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:4px;height:200px;padding:16px 0 32px;border-bottom:1px solid var(--outline-variant);position:relative}.bar-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;height:100%;min-width:20px;cursor:pointer}.bar[_ngcontent-%COMP%]{width:100%;max-width:40px;border-radius:6px 6px 0 0;transition:all var(--transition-normal) ease}.bar[_ngcontent-%COMP%]:hover{opacity:.8;transform:scaleY(1.05);transform-origin:bottom}.bar.workload-none[_ngcontent-%COMP%]{background:var(--surface-container-high)}.bar.workload-comfortable[_ngcontent-%COMP%]{background:var(--workload-comfortable)}.bar.workload-busy[_ngcontent-%COMP%]{background:var(--workload-busy)}.bar.workload-high[_ngcontent-%COMP%]{background:var(--workload-high)}.bar.workload-burnout[_ngcontent-%COMP%]{background:var(--workload-burnout)}.bar-label[_ngcontent-%COMP%]{font-size:10px;color:var(--on-surface-variant);margin-top:8px;white-space:nowrap;position:absolute;bottom:-20px}.chart-legend[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:24px;margin-top:16px;flex-wrap:wrap}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:12px;color:var(--on-surface-variant)}.legend-color[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:3px}.legend-color.workload-comfortable[_ngcontent-%COMP%]{background:var(--workload-comfortable)}.legend-color.workload-busy[_ngcontent-%COMP%]{background:var(--workload-busy)}.legend-color.workload-high[_ngcontent-%COMP%]{background:var(--workload-high)}.legend-color.workload-burnout[_ngcontent-%COMP%]{background:var(--workload-burnout)}.donut-chart-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:32px;padding:16px 0}.donut-chart[_ngcontent-%COMP%]{position:relative;width:180px;height:180px;flex-shrink:0}.donut-svg[_ngcontent-%COMP%]{width:100%;height:100%;transform:rotate(-90deg)}.donut-segment-circle[_ngcontent-%COMP%]{transition:stroke-dasharray var(--transition-normal) ease}.donut-center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100px;height:100px;border-radius:50%;background:var(--surface);display:flex;flex-direction:column;align-items:center;justify-content:center;box-shadow:var(--shadow-sm)}.donut-total[_ngcontent-%COMP%]{font-size:32px;font-weight:700}.donut-label[_ngcontent-%COMP%]{font-size:12px;color:var(--on-surface-variant)}.service-legend[_ngcontent-%COMP%]{flex:1}.service-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px 0;border-bottom:1px solid var(--outline-variant)}.service-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.service-color[_ngcontent-%COMP%]{width:14px;height:14px;border-radius:4px}.service-name[_ngcontent-%COMP%]{flex:1;font-size:14px}.service-percentage[_ngcontent-%COMP%]{font-size:12px;color:var(--on-surface-variant);min-width:35px;text-align:right}.service-count[_ngcontent-%COMP%]{font-weight:600;min-width:24px;text-align:right}.day-chart[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px;padding:16px 0}.day-bar-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.day-name[_ngcontent-%COMP%]{width:40px;font-size:14px;font-weight:500}.day-bar-wrapper[_ngcontent-%COMP%]{flex:1;height:28px;background:var(--surface-container);border-radius:6px;overflow:hidden}.day-bar[_ngcontent-%COMP%]{height:100%;background:var(--primary);border-radius:6px;transition:width var(--transition-normal) ease}.day-bar.highlight[_ngcontent-%COMP%]{background:var(--secondary)}.day-hours[_ngcontent-%COMP%]{width:50px;text-align:right;font-size:14px;font-weight:500}.empty-clients[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:48px;color:var(--outline);text-align:center}.empty-clients[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px}.clients-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px;padding:16px 0}.client-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;background:var(--surface-container-low);border-radius:12px;border:1px solid var(--outline-variant);transition:all var(--transition-fast) ease}.client-card[_ngcontent-%COMP%]:hover{background:var(--surface-container);border-color:var(--primary)}.client-card.top-3[_ngcontent-%COMP%]{background:var(--primary-container);border-color:var(--primary)}.client-rank[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:var(--surface-container);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:14px;flex-shrink:0}.client-rank.rank-1[_ngcontent-%COMP%]{background:var(--workload-busy);color:var(--on-surface)}.client-rank.rank-2[_ngcontent-%COMP%]{background:var(--outline);color:var(--on-surface)}.client-rank.rank-3[_ngcontent-%COMP%]{background:var(--workload-high);color:var(--on-surface)}.client-rank[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.client-info[_ngcontent-%COMP%]{flex:1;min-width:0}.client-name[_ngcontent-%COMP%]{font-weight:600;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.client-stats[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:4px}.client-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:12px;color:var(--on-surface-variant)}.client-stats[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.client-progress[_ngcontent-%COMP%]{width:60px;height:6px;background:var(--surface-container);border-radius:3px;overflow:hidden}.client-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:100%;background:var(--primary);border-radius:3px}@media (max-width: 768px){.charts-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.donut-chart-container[_ngcontent-%COMP%]{flex-direction:column}.donut-chart[_ngcontent-%COMP%]{margin:0 auto}.bar-chart[_ngcontent-%COMP%]{gap:1px;padding:16px 4px}.bar-container[_ngcontent-%COMP%]{min-width:0;flex:1 1 0}.bar[_ngcontent-%COMP%]{max-width:20px;border-radius:4px 4px 0 0}.bar-label[_ngcontent-%COMP%]{font-size:8px;margin-top:4px;overflow:hidden;text-overflow:ellipsis;max-width:100%}.clients-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.summary-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(160px,1fr))}.summary-value[_ngcontent-%COMP%]{font-size:24px}.summary-icon[_ngcontent-%COMP%]{width:48px;height:48px}.summary-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}}"]})}}return r})();export{Te as AnalyticsComponent};
